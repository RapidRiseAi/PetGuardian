:root{
      --bg0: #07130f;
      --bg1: #0b1e17;
      --card: rgba(10, 26, 20, 0.86);
      --card2: rgba(9, 23, 18, 0.92);
      --stroke: rgba(225, 205, 160, 0.16);
      --stroke2: rgba(225, 205, 160, 0.24);
      --gold: #e8d2a2;
      --gold2: #caa96a;
      --txt: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.65);
      --muted2: rgba(255,255,255,0.48);
      --shadow: 0 18px 50px rgba(0,0,0,0.52);
      --shadow2: 0 10px 30px rgba(0,0,0,0.35);
      --radius: 22px;
    }

    html, body{ height: 100%; }
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--txt);
      background: radial-gradient(1200px 700px at 20% 10%, rgba(170, 210, 185, 0.10), transparent 55%),
                  radial-gradient(1000px 700px at 80% 20%, rgba(232, 210, 162, 0.08), transparent 50%),
                  linear-gradient(180deg, var(--bg0), #040b08 65%);
      overflow: auto; /* allow scroll when needed */
    }

    /* Texture image */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      background-image: url("../bg.jpeg");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      opacity: 0.22;
      filter: saturate(0.85) contrast(1.08);
      transform: translateZ(0);
      pointer-events: none;
    }
    /* Soft vignette and grain */
    body::after{
      content:"";
      position: fixed;
      inset: 0;
      background:
        radial-gradient(1200px 700px at 50% 0%, rgba(0,0,0,0.15), transparent 55%),
        radial-gradient(1000px 800px at 50% 100%, rgba(0,0,0,0.55), transparent 65%),
        linear-gradient(90deg, rgba(0,0,0,0.35), transparent 18%, transparent 82%, rgba(0,0,0,0.35));
      pointer-events: none;
      mix-blend-mode: normal;
    }

    .shell{
      width: min(1360px, calc(100vw - 40px));
      min-height: min(92vh, 920px);
      height: auto;
      margin: 22px auto;
      border-radius: 28px;
      background: linear-gradient(180deg, rgba(11, 26, 19, 0.86), rgba(6, 16, 12, 0.92));
      box-shadow: var(--shadow);
      border: 1px solid rgba(232, 210, 162, 0.18);
      position: relative;
      overflow: hidden;
    }

    .shell::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(900px 540px at 15% 10%, rgba(232, 210, 162, 0.10), transparent 60%),
        radial-gradient(700px 520px at 85% 25%, rgba(170, 210, 185, 0.10), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,0.06), transparent 30%);
      pointer-events:none;
    }

    .topbar{
      position: relative;
      z-index: 2;
      display:flex;
      align-items:center;
      justify-content: space-between;
      padding: 18px 20px 12px 20px;
      border-bottom: 1px solid rgba(232, 210, 162, 0.16);
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width: 260px;
    }
    .logoWrap{
      width: 44px;
      height: 44px;
      border-radius: 14px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(232, 210, 162, 0.22);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      box-shadow: var(--shadow2);
    }
    .logoWrap img{
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .brandTitle{
      line-height:1.05;
    }
    .brandTitle h1{
      font-family: Cinzel, serif;
      font-size: 20px;
      letter-spacing: 0.02em;
      margin:0;
      color: rgba(255,255,255,0.95);
    }
    .brandTitle p{
      margin: 3px 0 0 0;
      font-size: 12px;
      color: var(--muted);
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 7px 10px;
      border-radius: 999px;
      font-size: 12px;
      color: rgba(255,255,255,0.82);
      border: 1px solid rgba(232, 210, 162, 0.20);
      background: rgba(255,255,255,0.04);
      backdrop-filter: blur(8px);
    }
    .pillBtn{ cursor:pointer; }
    .pillBtn:focus{ outline: none; box-shadow: 0 0 0 3px rgba(232,210,162,0.16); }


    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      height: 40px;
      padding: 0 14px;
      border-radius: 999px;
      font-weight: 600;
      font-size: 13px;
      border: 1px solid rgba(232, 210, 162, 0.26);
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.92);
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,0.07); border-color: rgba(232,210,162,0.34); }
    .btn:active{ transform: translateY(0); }
    .btnPrimary{
      background: linear-gradient(180deg, rgba(232,210,162,0.96), rgba(202,169,106,0.92));
      color: #1b160c;
      border: 1px solid rgba(255,255,255,0.12);
    }
    .btnPrimary:hover{ background: linear-gradient(180deg, rgba(245,228,188,0.98), rgba(202,169,106,0.96)); }

    .main{
      position: relative;
      z-index: 2;
      height: auto;
      align-items: start;
      display:grid;
      grid-template-columns: 1fr 420px;
      gap: 16px;
      padding: 16px 16px 18px 16px;
    }

    .left{
      border-radius: var(--radius);
      border: 1px solid rgba(232, 210, 162, 0.14);
      background: rgba(255,255,255,0.03);
      overflow: hidden;
      display:flex;
      flex-direction: column;
      min-width: 0;
    }
    .leftScroll{
      overflow: visible;
      padding: 14px;
    }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .grid3{
      display:grid;
      grid-template-columns: 1.4fr 1fr 1fr;
      gap: 12px;
    }

    .card{
      border-radius: 18px;
      border: 1px solid rgba(232, 210, 162, 0.14);
      background: linear-gradient(180deg, rgba(7, 20, 15, 0.72), rgba(7, 20, 15, 0.52));
      box-shadow: 0 8px 24px rgba(0,0,0,0.25);
      padding: 14px;
      position: relative;
      overflow: hidden;
    }
    .card h3{
      font-size: 13px;
      font-weight: 700;
      margin:0;
      color: rgba(255,255,255,0.92);
    }
    .sub{
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
      line-height:1.35;
    }
    .label{
      font-size: 11px;
      color: var(--muted2);
    }

    .stepTitle{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 10px;
    }
    .stepTitle .leftSide{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 0;
    }
    .stepBadge{
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: rgba(232, 210, 162, 0.10);
      border: 1px solid rgba(232, 210, 162, 0.28);
      display:flex;
      align-items:center;
      justify-content:center;
      color: rgba(232,210,162,0.96);
      font-size: 12px;
      font-weight: 700;
      flex: 0 0 auto;
    }

    .pkgRow{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
      margin-top: 10px;
    }
    .pkgBtn{
      border-radius: 16px;
      border: 1px solid rgba(232, 210, 162, 0.16);
      background: rgba(255,255,255,0.04);
      padding: 12px;
      cursor: pointer;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      min-width: 0;
    }
    .pkgBtn:hover{ transform: translateY(-1px); border-color: rgba(232,210,162,0.28); background: rgba(255,255,255,0.06); }
    .pkgBtn.active{
      background: linear-gradient(180deg, rgba(232,210,162,0.20), rgba(255,255,255,0.04));
      border-color: rgba(232, 210, 162, 0.42);
      box-shadow: inset 0 0 0 1px rgba(232,210,162,0.10);
    }
    .pkgTop{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 8px;
    }
    .pkgName{
      display:flex;
      align-items:center;
      gap: 10px;
      font-weight: 700;
      font-size: 13px;
      color: rgba(255,255,255,0.92);
      min-width: 0;
    }
    .pkgDesc{
      font-size: 12px;
      color: var(--muted);
      margin-top: 6px;
    }

    input[type="range"]{
      width: 100%;
      accent-color: var(--gold);
    }

    .field{
      display:flex;
      flex-direction: column;
      gap: 6px;
    }
    .field input, .field select, .field textarea{
      height: 42px;
      padding: 0 12px;
      border-radius: 14px;
      border: 1px solid rgba(232, 210, 162, 0.18);
      background: rgba(0,0,0,0.16);
      color: rgba(255,255,255,0.92);
      outline: none;
    }
    .field textarea{ height: 100px; padding: 12px; resize: none; }

    .smallRow{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      margin-top: 8px;
    }

    .toggle{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(232,210,162,0.14);
      background: rgba(255,255,255,0.03);
    }
    .toggle .tText{ min-width:0; }
    .toggle .tTitle{ font-size: 12px; font-weight: 700; color: rgba(255,255,255,0.90); }
    .toggle .tSub{ font-size: 11px; color: var(--muted); margin-top: 2px; line-height:1.3; }

    .numRow{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      margin-top: 10px;
    }
    .stepper{
      display:flex;
      align-items:center;
      gap: 8px;
      border: 1px solid rgba(232,210,162,0.18);
      background: rgba(0,0,0,0.14);
      border-radius: 999px;
      padding: 6px 8px;
    }
    .stepper button{
      width: 30px;
      height: 30px;
      border-radius: 999px;
      border: 1px solid rgba(232,210,162,0.20);
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.9);
      font-weight: 800;
      transition: background .12s ease;
    }
    .stepper button:hover{ background: rgba(255,255,255,0.08); }
    .stepper input{
      width: 44px;
      text-align:center;
      border: 0;
      background: transparent;
      color: rgba(255,255,255,0.92);
      outline:none;
      font-weight: 700;
    }

    .chooseSitterBtn{
      min-height: 56px;
      padding: 10px 14px;
      border-radius: 18px;
      border: 1px solid rgba(232,210,162,0.26);
      background: rgba(255,255,255,0.06);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 14px;
      cursor:pointer;
      transition: background .12s ease, transform .12s ease, border-color .12s ease;
    }
    .chooseSitterBtn:hover{ background: rgba(255,255,255,0.085); border-color: rgba(232,210,162,0.38); transform: translateY(-1px); }
    .chooseSitterBtn:active{ transform: translateY(0); }
    .chooseSitterLeft{ display:flex; align-items:center; gap: 12px; min-width: 0; }
    .avatarStack{ display:flex; align-items:center; gap: 10px; flex: 0 0 auto; }
    .avatarStack img{
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 2px solid rgba(6,16,12,0.92);
      object-fit: cover;
      background: rgba(255,255,255,0.10);
      box-shadow: 0 10px 22px rgba(0,0,0,0.28);
    }
    .sitterBtnText{ min-width: 0; }
    .sitterBtnTitle{ font-size: 13px; font-weight: 900; line-height: 1.1; letter-spacing: .2px; }
    .sitterBtnSub{ font-size: 12px; opacity: 0.78; line-height: 1.15; margin-top: 3px; }
    .chooseSitterCta{
      font-size: 12px;
      font-weight: 900;
      letter-spacing: .2px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(232,210,162,0.28);
      background: rgba(0,0,0,0.16);
      color: rgba(232,210,162,0.98);
      flex: 0 0 auto;
    }
    @media (max-width: 420px){
      .chooseSitterBtn{ min-height: 52px; padding: 10px 12px; }
      .avatarStack{ gap: 8px; }
      .avatarStack img{ width: 30px; height: 30px; }
    }
    .right{
      color: rgba(255,255,255,0.88);
      border-radius: var(--radius);
      border: 1px solid rgba(232, 210, 162, 0.16);
      background: linear-gradient(180deg, rgba(7,20,15,0.72), rgba(7,20,15,0.54));
      box-shadow: 0 8px 24px rgba(0,0,0,0.25);
      padding: 14px;
      overflow: hidden;
      display:flex;
      flex-direction: column;
      min-width: 0;
    }
    .quoteTop{
      display:flex;
      align-items:flex-start;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 12px;
    }
    .quoteTop h2{
      font-family: Cinzel, serif;
      font-size: 16px;
      margin:0;
      letter-spacing: 0.02em;
      color: rgba(255,255,255,0.92);
    }
    .bigTotal{
      font-family: Cinzel, serif;
      font-size: 44px;
      line-height: 1;
      margin-top: 6px;
      color: rgba(232,210,162,0.98);
      text-shadow: 0 10px 40px rgba(0,0,0,0.35);
    }

    .rows{
      margin-top: 6px;
      border-top: 1px solid rgba(232,210,162,0.14);
      padding-top: 10px;
      display:flex;
      flex-direction: column;
      gap: 8px;
    }
    .row{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      font-size: 12px;
      color: rgba(255,255,255,0.82);
    }
    .row strong{ color: rgba(255,255,255,0.92); }
    .hint{
      font-size: 11px;
      color: var(--muted2);
      line-height: 1.35;
      margin-top: 10px;
    }

    .lineItems{
      margin-top: 10px;
      border: 1px solid rgba(232,210,162,0.12);
      border-radius: 16px;
      overflow: hidden;
      background: rgba(0,0,0,0.14);
      flex: 1 1 auto;
      min-height: 0;
    }
    .lineItemsHeader{
      padding: 10px 12px;
      border-bottom: 1px solid rgba(232,210,162,0.12);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      font-size: 12px;
      color: rgba(255,255,255,0.86);
      background: rgba(255,255,255,0.03);
    }
    .lineItemsBody{
      max-height: 220px;
      overflow: auto;
      scrollbar-gutter: stable;
      padding: 10px 10px 12px 10px;
      display:flex;
      flex-direction: column;
      gap: 8px;
    }
    .liRow{
      display:grid;
      grid-template-columns: 1fr auto;
      gap: 10px;
      align-items:start;
      padding: 8px 8px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.06);
      background: rgba(255,255,255,0.02);
    }
    .liRow .liTitle{
      font-size: 12px;
      font-weight: 700;
      color: rgba(255,255,255,0.90);
      margin:0;
    }
    .liRow .liMeta{
      font-size: 11px;
      color: var(--muted);
      margin-top: 2px;
      line-height: 1.35;
    }
    .liRow .liAmt{
      font-size: 12px;
      font-weight: 800;
      color: rgba(232,210,162,0.95);
      white-space: nowrap;
      align-self: center;
    }

    .depositBox{
      margin-top: 12px;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(232,210,162,0.14);
      background: rgba(255,255,255,0.03);
    }
    .depositBox .k{ font-size: 11px; color: var(--muted2); }
    .depositBox .v{ font-size: 18px; font-weight: 800; color: rgba(255,255,255,0.92); margin-top: 2px; }

    .ctaRow{ margin-top: 12px; display:flex; flex-direction: column; gap: 10px; }

    /* Modal */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.62);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 9999; /* must be above everything */
      backdrop-filter: blur(10px);
    }
    .modalOverlay.active{ display:flex; }
    .modal{
      width: min(980px, 98vw);
      max-height: 90vh;
      border-radius: 24px;
      border: 1px solid rgba(232,210,162,0.18);
      background: linear-gradient(180deg, rgba(9,23,18,0.96), rgba(6,16,12,0.98));
      box-shadow: var(--shadow);
      overflow: hidden;
      position: relative;
    }
    .modalHeader{
      padding: 14px 16px;
      border-bottom: 1px solid rgba(232,210,162,0.14);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      background: rgba(255,255,255,0.03);
    }
    .modalHeader h3{
      margin:0;
      font-family: Cinzel, serif;
      font-size: 16px;
      color: rgba(255,255,255,0.92);
      letter-spacing: 0.02em;
    }
    .modalBody{
      padding: 14px;
      overflow:auto;
      max-height: calc(90vh - 58px);
    }

    .tabs{
      display:flex;
      gap: 8px;
      margin-bottom: 12px;
      flex-wrap: wrap;
      position: sticky;
      top: 0;
      z-index: 2;
      padding: 8px;
      border-radius: 12px;
      background: rgba(8,20,15,0.95);
      border: 1px solid rgba(232,210,162,0.24);
    }
    .tab{
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(232,210,162,0.42);
      background: rgba(0,0,0,0.4);
      font-size: 12px;
      font-weight: 700;
      color: rgba(255,255,255,0.98);
      cursor:pointer;
      user-select:none;
      transition: background .12s ease, border-color .12s ease;
    }
    .tab.active{
      border-color: rgba(255,255,255,0.8);
      background: linear-gradient(180deg, rgba(232,210,162,0.96), rgba(202,169,106,0.92));
      color: #1d170d;
      box-shadow: 0 8px 18px rgba(0,0,0,0.25);
    }

    .topbarActions{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; justify-content:flex-end; }
    .petsGrid, .petsGrid .field{ min-width: 0; }
    .petsGrid input{ width: 100%; }
    .walkDays{ display:grid; grid-template-columns: repeat(7,minmax(0,1fr)); gap:8px; margin-top:8px; }
    .walkDayBtn{
      height: 38px; border-radius: 10px; border: 1px solid rgba(232,210,162,0.2);
      background: rgba(255,255,255,0.04); color: rgba(255,255,255,0.86); font-size:12px; font-weight:700;
    }
    .walkDayBtn.active{ background: rgba(232,210,162,0.2); border-color: rgba(232,210,162,0.58); color: rgba(255,255,255,0.98); }

    .radioGrid{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
      margin-top: 10px;
    }
    .radioCard{
      border-radius: 16px;
      border: 1px solid rgba(232,210,162,0.16);
      background: rgba(255,255,255,0.03);
      padding: 12px;
      cursor:pointer;
      transition: border-color .12s ease, background .12s ease, transform .12s ease;
      min-width: 0;
    }
    .radioCard:hover{ transform: translateY(-1px); border-color: rgba(232,210,162,0.28); background: rgba(255,255,255,0.05); }
    .radioCard.active{
      border-color: rgba(232,210,162,0.44);
      background: rgba(232,210,162,0.12);
    }
    .radioCard .t{ font-size: 12px; font-weight: 800; color: rgba(255,255,255,0.92); }
    .radioCard .b{ font-size: 11px; color: var(--muted); margin-top: 4px; line-height:1.35; }
    .radioCard .p{ font-size: 12px; font-weight: 800; color: rgba(232,210,162,0.95); margin-top: 8px; }

    /* Sitter carousel */
    .carouselStage{
      border-radius: 20px;
      border: 1px solid rgba(232,210,162,0.14);
      background: rgba(0,0,0,0.18);
      padding: 14px;
      overflow: hidden;
    }
    .carouselViewport{
      position: relative;
      height: 430px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .sCard{
      position:absolute;
      width: 270px;
      height: 400px;
      border-radius: 18px;
      border: 1px solid rgba(232,210,162,0.18);

      /* SOLID (non-transparent) luxury surface */
      background: linear-gradient(180deg, #0f1c17 0%, #0a1410 100%);

      overflow:hidden;
      box-shadow: 0 22px 70px rgba(0,0,0,0.55);

      transform: translateX(calc(var(--offset) * 240px)) scale(var(--scale));

      /* IMPORTANT: remove opacity so cards are not see-through */
      /* opacity: var(--opacity); */

      /* Dim side cards without transparency */
      filter: brightness(calc(0.70 + (var(--opacity) * 0.30)))
              saturate(calc(0.80 + (var(--opacity) * 0.20)));

      z-index: var(--z);
      transition: transform .22s ease, filter .22s ease;
      cursor:pointer;
      user-select:none;
    }
    .sCard .img{
      height: 64%;
      background: #0a1410; /* solid (no transparency) behind images */
    }

    .sCard img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
    }
    .sCard .body{
      padding: 12px;
      height: 36%;
      display:flex;
      flex-direction: column;
      gap: 6px;
    }
    .sName{
      font-family: Cinzel, serif;
      font-size: 14px;
      letter-spacing: 0.01em;
      color: rgba(255,255,255,0.92);
    }
    .sMeta{
      font-size: 11px;
      color: rgba(255,255,255,0.68);
      line-height: 1.35;
    }
    .tags{
      display:flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }
    .tag{
      font-size: 10px;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(232,210,162,0.18);
      background: rgba(255,255,255,0.03);
      color: rgba(255,255,255,0.78);
      white-space: nowrap;
    }

    .modalFooter{
      padding: 12px 14px;
      border-top: 1px solid rgba(232,210,162,0.14);
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      background: rgba(255,255,255,0.03);
    }

    .statusDot{
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: rgba(255,255,255,0.25);
    }
    .statusDot.ok{ background: rgba(100, 255, 190, 0.60); }
    .statusDot.bad{ background: rgba(255, 120, 120, 0.70); }

    /* Responsive */
    @media (max-width: 820px){
      body{ overflow:auto; }
      .shell{ height: auto; margin: 14px auto; }
      .main{ grid-template-columns: 1fr; height: auto; }
      .left{ height: auto; }
      .leftScroll{ height: auto; }
      .right{ height: auto; }
      .lineItemsBody{ max-height: 240px; }
      .pkgRow{ grid-template-columns: 1fr; }
      .grid3{ grid-template-columns: 1fr; }
      .grid2{ grid-template-columns: 1fr; }
      .radioGrid{ grid-template-columns: 1fr; }
      .carouselViewport{ height: 460px; }
      .sCard{ width: 250px; transform: translateX(calc(var(--offset) * 210px)) scale(var(--scale)); }
    }

    /* Reduce motion */
    @media (prefers-reduced-motion: reduce){
      .btn, .pkgBtn, .radioCard, .sCard{ transition: none !important; }
    }

    /* Base stay button + modal */
    .stayBtn{
      width: 100%;
      min-height: 62px;
      padding: 12px 14px;
      border-radius: 20px;
      border: 1px solid rgba(232,210,162,0.26);
      background: rgba(255,255,255,0.06);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 14px;
      cursor:pointer;
      transition: background .12s ease, transform .12s ease, border-color .12s ease;
      text-align:left;
    }
    .stayBtn:hover{ background: rgba(255,255,255,0.085); border-color: rgba(232,210,162,0.38); transform: translateY(-1px); }
    .stayBtn:active{ transform: translateY(0); }

    .stayBtnLeft{ display:flex; align-items:center; gap: 12px; min-width:0; }
    .stayIcon{
      width: 38px;
      height: 38px;
      border-radius: 14px;
      display:flex;
      align-items:center;
      justify-content:center;
      border: 1px solid rgba(232,210,162,0.22);
      background: rgba(0,0,0,0.18);
      box-shadow: 0 16px 30px rgba(0,0,0,0.25);
      font-size: 16px;
      flex: 0 0 auto;
    }
    .stayBtnText{ min-width: 0; }
    .stayBtnTitle{ font-size: 13px; font-weight: 950; letter-spacing: .2px; line-height: 1.15; }
    .stayBtnSub{ font-size: 12px; opacity: 0.78; line-height: 1.2; margin-top: 3px; }
    .stayBtnRight{ display:flex; align-items:center; gap: 12px; flex: 0 0 auto; }
    .stayBtnRate{ font-size: 12px; font-weight: 900; opacity: .92; padding: 6px 10px; border-radius: 999px; border:1px solid rgba(232,210,162,0.18); background: rgba(0,0,0,0.12); }
    .stayBtnCta{ font-size: 12px; font-weight: 950; letter-spacing: .2px; padding: 8px 12px; border-radius: 999px; border: 1px solid rgba(232,210,162,0.28); background: rgba(0,0,0,0.16); color: rgba(232,210,162,0.98); }

    .modalWide{ max-width: 980px; }
    .stayGrid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 14px;
    }
    .stayCard{
      border-radius: 18px;
      border: 1px solid rgba(232,210,162,0.18);
      background: rgba(0,0,0,0.16);
      padding: 14px;
      display:flex;
      flex-direction: column;
      gap: 10px;
      min-width: 0;
      transition: border-color .12s ease, background .12s ease, transform .12s ease;
    }
    .stayCard.active{ border-color: rgba(232,210,162,0.38); background: rgba(255,255,255,0.06); }
    .stayCardTop{ display:flex; align-items:center; justify-content: space-between; gap: 10px; }
    .stayCardTitle{ font-size: 13px; font-weight: 950; letter-spacing: .2px; display:flex; align-items:center; gap: 8px; }
    .stayEmoji{ font-size: 14px; }
    .stayTag{ font-size: 11px; opacity: .85; padding: 5px 10px; border-radius: 999px; border:1px solid rgba(232,210,162,0.18); background: rgba(0,0,0,0.12); }

    .stayCardDesc{ font-size: 12px; opacity: .82; line-height: 1.35; }
    .stayFacts{ display:grid; grid-template-columns: 1fr; gap: 6px; }
    .stayFact{ display:flex; align-items:center; justify-content: space-between; gap: 10px; font-size: 12px; }
    .stayFact .k{ opacity: .72; }
    .stayFact .v{ font-weight: 850; opacity: .95; }

    .staySlider{ margin-top: 2px; padding-top: 10px; border-top: 1px solid rgba(232,210,162,0.12); }
    .staySliderTop{ display:flex; align-items:center; justify-content: space-between; gap: 10px; font-size: 12px; }
    .staySliderTop .k{ opacity: .75; }
    .staySliderTop .v{ font-weight: 900; }
    .staySliderHint{ font-size: 11px; opacity: .7; margin-top: 6px; line-height: 1.3; }
    .staySelect{ margin-top: auto; height: 40px; border-radius: 14px; }

    @media (max-width: 820px){
      .stayGrid{ grid-template-columns: 1fr; }
      .modalWide{ max-width: 720px; }
    }

/* layout: allow natural page scroll; no inner scroll traps */
    /* Step 4 action row */
    .actionRow{
      display:flex;
      gap: 12px;
      align-items: stretch;
      margin-top: 6px;
    }
    .actionRow .btnPrimary{ flex: 0 0 auto; min-width: 180px; height: 56px; border-radius: 18px; }
    .actionRow .chooseSitterBtn{ flex: 1 1 auto; }

    /* Selected sitter box */
    .selectedBox{
      border-radius: 16px;
      border: 1px solid rgba(232,210,162,0.14);
      background: rgba(0,0,0,0.16);
      padding: 12px;
    }
    .selectedTop{ display:flex; align-items:center; justify-content: space-between; gap: 12px; }
    .selectedName{ font-size: 12px; font-weight: 950; }
    .selectedMeta{ font-size: 11px; opacity: .72; margin-top: 2px; line-height: 1.25; }

    @media (max-width: 520px){
      .actionRow{ flex-direction: column; }
      .actionRow .btnPrimary{ width: 100%; min-width: 0; }
    }


    .stayHoursPill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(232,210,162,0.16);
      background: rgba(0,0,0,0.12);
      font-weight: 850;
      opacity: .92;
      margin-left: 8px;
      white-space: nowrap;
    }
    .stayHoursPill.isHidden{ display:none; }

/* --- Desktop layout enforcement (prevents right panel dropping below) --- */
@media (min-width: 981px){
  .main{ display: grid !important; grid-template-columns: minmax(640px, 1fr) 420px !important; }
  .right{ position: sticky; top: 14px; align-self: start; }
  .actionRow{ display:flex !important; flex-direction: row !important; gap: 12px !important; align-items: stretch !important; }
  #btnOpenAddons{ flex: 0 0 240px; }
  .chooseSitterBtn{ flex: 1 1 auto; min-width: 0; }
}
/* Stack only on genuinely narrow viewports */
@media (max-width: 980px){
  .main{ grid-template-columns: 1fr; }
  .right{ position: relative; top: auto; width: 100%; }
  .actionRow{ flex-direction: column; }
  #btnOpenAddons{ width: 100%; }
}

/* Prevent clipped helper lines in Step 4 */
.muted{ line-height: 1.25; }
.miniSitterCard, .miniSitterCard *{ min-width: 0; }



    /* Mobile polish (keeps desktop exactly as-is) */
    @media (max-width: 680px){
      .topbar{flex-direction:column; align-items:flex-start; gap:10px;}
      .brand{width:100%; min-width:0;}
      .brandTitle h1{font-size:18px;}
      .topbarActions{width:100%; display:grid; grid-template-columns:1fr 1fr; gap:10px;}
      .topbarActions > *{width:100%;}
      #btnOpenBooking{grid-column:1 / -1; height:44px;}
      #apiPillBtn{grid-column:1 / -1; justify-content:center;}
    }
    @media (max-width: 520px){
      .shell{padding:12px;}
      .card{padding:14px;}
      .title{font-size:22px;}
      .subtitle{font-size:13px;}
      .stayBtn{flex-direction:column; align-items:stretch; gap:10px;}
      .stayBtnMain{gap:10px;}
      .stayBtnRight{width:100%; justify-content:space-between;}
      .stayHoursPill{align-self:flex-start;}
      .stayBtnRate{min-width:auto;}
      .grid2{grid-template-columns:1fr;}
      .grid3{grid-template-columns:1fr;}
      .walkDays{grid-template-columns: repeat(4,minmax(0,1fr));}
      .sitterRow{flex-direction:column; gap:10px; align-items:stretch;}
      .sitterPill{justify-content:center;}
      .sitterBrowse{width:100%;}
      .chooseSitterBtn{flex-wrap:wrap; gap:10px;}
      .chooseSitterLeft{flex:1 1 100%;}
      .chooseSitterCta{flex:1 1 100%; width:100%; justify-content:center;}
      .stayBtnTitle{white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
      .btnWide{width:100%;}
    }
    @media (max-width: 420px){
      #apiPillBtn{padding:8px 10px;}
      #apiStatus{font-size:12px;}
      .pillDot{width:8px;height:8px;}
      .stayBtnIcon{width:34px;height:34px;}
      .modal{padding:14px;}
      .modalBody{padding:14px;}
    }
